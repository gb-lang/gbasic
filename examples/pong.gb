// Pong — a simple paddle + ball game

let paddle = rect(100, 20)
paddle.position = Point(350, 550)
paddle.color = white
paddle.solid = true

let ball = circle(10)
ball.position = Point(400, 300)
ball.color = yellow
ball.velocity = Point(3, 3)
ball.bounces = true

let score = 0

while true {
    if key("left")  { paddle.move(-8, 0) }
    if key("right") { paddle.move(8, 0) }

    // Ball fell off bottom — reset
    if ball.position.y > 600 {
        ball.position = Point(400, 300)
        ball.velocity = Point(3, 3)
        score = 0
        play("lose")
    }

    // Paddle collision — bounces is automatic, just count score
    if ball.collides(paddle) {
        score = score + 1
        play("bounce")
    }

    clear(black)
    print("Score: {score}")
}
